<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>GraphBuilder 2.0 (alpha): Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GraphBuilder 2.0 (alpha)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Overview</span></a></li>
      <li><a href="annotated.html"><span>Javadoc</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">GraphBuilder 2.0 (alpha) Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Overview</h2>
<p>Intel Graph Builder (alpha) 2.0 is a library of user defined functions (UDF's) and macros in <a href="http://pig.apache.org/">Apache Pig</a> to construct graphs in Hadoop(TM). The 2 .0 (alpha) version supports multi-relational graphs, or property graphs, in which both objects and relationships may be labeled with multiple properties and property values. Graphs can be constructed from structured, semi-structured, or unstructured data. In case of structured data, columns of HBase tables or fields in CSV/TSV files for example can be annotated as objects, relationships, or their properties. To do the same from complex XML and JSON documents we have improved the memory footprint of Piggy Bank's XMLLoader function, and we have provided ExtractJSONField UDF to extract fields from JSON documents with JSONPath queries. In addition, we have provided a RegexExtractAllMatches utility to extract all text matches from a given string.</p>
<p>Once a graph is constructed the deduplication macro can be used to merge duplicate elements. These capabilities can be easily extended with your custom user defined functions.</p>
<p>Of course, there’s no point in building a graph if it can’t be queried, analyzed or visualized. So, we have introduced new bulk load and export methods. The LOAD_TITAN macro bulk loads the open source Titan distributed graph database via the Blueprints API so that graphs can be explored using the Gremlin query language. In addition, we have extended Graph Builder to support the Resource Description Framework (<a href="http://www.w3.org/RDF/">RDF</a>) format. RDF triples for property graph elements are formed using Apache Jena library. We only export graphs in the N-TRIPLES format. All the Jena RDF namespaces are accepted. Last but not least this version of the Graph Builder library can also export simple edge (relationship) lists and vertex (object) lists. Graph visualization tools such as Gephi can be used with the edge list exports.</p>
<h2>Release Notes</h2>
<ul>
<li>Added the <a class="el" href="classcom_1_1intel_1_1hadoop_1_1graphbuilder_1_1sampleapplications_1_1TableToGraphDB.html">TableToGraphDB </a> MapReduce application to bulk load property graphs from HBase tables to the open source Titan graph database.</li>
<li>Removed ID normalization and partitioning.</li>
<li>Removed the demoapps and provided several sample pig scripts under the examples directory</li>
<li>Added several UDFs for graph ETL and a macro for bulk loading the <a href="http://thinkaurelius.github.io/titan/">Titan graph database:</a><ul>
<li><b>Raw Data Input</b> <ul>
<li>
<a class="el" href="classcom_1_1intel_1_1pig_1_1udf_1_1eval_1_1ExtractJSONField.html">ExtractJSONField </a> Provides a convenient way of processing complex JSON documents using <a href="https://code.google.com/p/rest-assured/">JSONPath</a> queries. </li>
<li>
<a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html">XMLLoader </a> Provides a fix for reducing the memory footprint of <a href="https://cwiki.apache.org/confluence/display/PIG/PiggyBank">Piggy Bank</a>'s XMLLoader. </li>
<li>
<a class="el" href="classcom_1_1intel_1_1pig_1_1udf_1_1eval_1_1RegexExtractAllMatches.html">RegexExtractAllMatches </a> Extracts all strings from a string source that match a regular expression. </li>
</ul>
</li>
<li><b>Graph Construction</b> <ul>
<li>
<a class="el" href="classcom_1_1intel_1_1pig_1_1udf_1_1eval_1_1CreatePropGraphElements.html">CreatePropGraphElements </a> Creates <a class="el" href="">PropertyGraphElements </a> from raw input given vertex and edge tokenization rules. </li>
<li>
<a class="el" href="graphbuilder_8pig.html">MERGE_DUPLICATE_ELEMENTS </a> Combine duplicate property graph elements into a single property graph element. Also see <a class="el" href="classcom_1_1intel_1_1pig_1_1udf_1_1eval_1_1MergeDuplicateGraphElements.html">MergeDuplicateGraphElements </a> </li>
</ul>
</li>
<li><b>Graph Export</b> <ul>
<li>
<a class="el" href="classcom_1_1intel_1_1pig_1_1udf_1_1eval_1_1RDF.html">RDF </a> Creates RDF triples from property graph elements. </li>
<li>
<a class="el" href="classcom_1_1intel_1_1pig_1_1udf_1_1eval_1_1EdgeList.html">EdgeList </a> Creates an edge list representation from a property graph element. </li>
<li>
<a class="el" href="classcom_1_1intel_1_1pig_1_1udf_1_1eval_1_1VertexList.html">VertexList </a> Creates vertex list representation from a property graph element.</li>
</ul>
</li>
<li><b>Graph Bulk Loading</b> <ul>
<li>
<a class="el" href="graphbuilder_8pig.html">LOAD_TITAN </a> Loads a graph from a given HBase table to the Titan graph database. </li>
</ul>
</li>
<li><b>Miscellaneous</b> <ul>
<li>
<a class="el" href="classcom_1_1intel_1_1pig_1_1udf_1_1eval_1_1CreateRowKey.html">CreateRowKey </a> Generates a row key that <a href="http://pig.apache.org/docs/r0.12.0/api/org/apache/pig/backend/hadoop/hbase/HBaseStorage.html">HBaseStorage</a> class needs when storing data to an HBase table by applying the MD5 hash function to a given tuple's elements. </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Prerequisites</h2>
<p>GB 2.0 (alpha) requires <a href="http://hadoop.apache.org/">Apache Hadoop</a> and <a href="http://pig.apache.org/">Apache Pig</a> installed. To use the <a class="el" href="graphbuilder_8pig.html">LOAD_TITAN </a> macro for bulk loading graphs to Titan, <a href="http://hbase.apache.org/">HBase</a> and <a href="http://thinkaurelius.github.io/titan/">Titan graph database</a> are also required. In particular, GB 2.0 (alpha) has been tested against Java 1.7, Hadoop 1.2.1, Pig 0.12, Hbase 0.94.12, and Titan 0.4.1.</p>
<h2>Building The Source Code</h2>
<p>GB 2.0 (alpha) uses <a href="http://maven.apache.org/">Apache Maven</a> as the build manager. You can build GB with </p>
<div class="fragment"><div class="line">mvn clean <span class="keyword">package </span></div>
</div><!-- fragment --><p> and graphbuilder-2.0-alpha-with-deps.jar will be created under the target directory. In order to skip unit tests during the build </p>
<div class="fragment"><div class="line">mvn clean <span class="keyword">package </span>-DskipTests </div>
</div><!-- fragment --><h2>Running the Examples</h2>
<p>Assuming GB 2.0 (alpha) is installed at /usr/local/gb/, you can run the provided example scripts with </p>
<div class="fragment"><div class="line">export HADOOP_CLASSPATH=$HADOOP_CLASSPATH:/usr/local/gb/target/graphbuilder-2.0-alpha-with-deps.jar</div>
<div class="line">cd /usr/local/gb/</div>
<div class="line">pig -x local -f examples/rdf_example.pig     </div>
</div><!-- fragment --><h2>Using GB 2.0 (alpha)</h2>
<p>To use GB 2.0 (alpha) UDFs, in your Pig script REGISTER graphbuilder-2.0-alpha-with-deps.jar and IMPORT <a class="el" href="graphbuilder_8pig.html">graphbuilder.pig</a> script. The <a class="el" href="graphbuilder_8pig.html">graphbuilder.pig</a> script defines the ExtractJSONField and CreateRowKey UDFs (the UDFs that take no constructor arguments), and LOAD_TITAN and MERGEDUPLICATEGRAPHELEMENTS macros. The user has to define the other UDFs with the constructor arguments they want; please see examples under the examples/ directory for the use of GB functionality in your Pig scripts. Assuming GB 2.0 (alpha) is installed at /usr/local/gb/ add the following to the beginning of your Pig script: </p>
<div class="fragment"><div class="line">REGISTER /usr/local/gb/target/graphbuilder-2.0-alpha-with-deps.jar;</div>
<div class="line">IMPORT <span class="stringliteral">&#39;/usr/local/gb/pig/graphbuilder.pig&#39;</span>;</div>
</div><!-- fragment --><h2>Known Issues:</h2>
<p><b>ERROR org.apache.pig.tools.grunt.Grunt - ERROR 2998: Unhandled internal error. java.io.IOException: Could not find class <a class="el" href="classcom_1_1intel_1_1hadoop_1_1graphbuilder_1_1graphelements_1_1SerializedGraphElementStringTypeVids.html">com.intel.hadoop.graphbuilder.graphelements.SerializedGraphElementStringTypeVids</a>, while attempting to de-serialize it</b><br/>
 Make sure you do not overwrite HADOOP_CLASSPATH variable in $HADOOP_HOME/conf/hadoop-env.sh and in other places. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 20 2013 18:43:59 for GraphBuilder 2.0 (alpha) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
