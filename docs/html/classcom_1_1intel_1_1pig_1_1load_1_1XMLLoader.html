<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>GraphBuilder 2.0 (alpha): com.intel.pig.load.XMLLoader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GraphBuilder 2.0 (alpha)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li class="current"><a href="annotated.html"><span>Javadoc</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecom.html">com</a></li><li class="navelem"><a class="el" href="namespacecom_1_1intel.html">intel</a></li><li class="navelem"><a class="el" href="namespacecom_1_1intel_1_1pig.html">pig</a></li><li class="navelem"><a class="el" href="namespacecom_1_1intel_1_1pig_1_1load.html">load</a></li><li class="navelem"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html">XMLLoader</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.intel.pig.load.XMLLoader Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>GraphBuilder version of Piggy Bank's <a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html" title="GraphBuilder version of Piggy Bank&#39;s XMLLoader with improved memory management. ">XMLLoader</a> with improved memory management.  
 <a href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for com.intel.pig.load.XMLLoader:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.png" usemap="#com.intel.pig.load.XMLLoader_map" alt=""/>
  <map id="com.intel.pig.load.XMLLoader_map" name="com.intel.pig.load.XMLLoader_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>XMLFileInputFormat</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>XMLFileRecordReader</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1d6684a850d57689fe93e7ea5b40db78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a1d6684a850d57689fe93e7ea5b40db78">XMLLoader</a> ()</td></tr>
<tr class="separator:a1d6684a850d57689fe93e7ea5b40db78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ef88f90e3d4c8378eccd90e27a8b17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a61ef88f90e3d4c8378eccd90e27a8b17">XMLLoader</a> (String <a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a8251978838e34be2d6224d0e5c266bf8">recordIdentifier</a>)</td></tr>
<tr class="separator:a61ef88f90e3d4c8378eccd90e27a8b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e848c05789b959af9334ab36a00a69"><td class="memItemLeft" align="right" valign="top">Tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#af2e848c05789b959af9334ab36a00a69">getNext</a> ()  throws IOException </td></tr>
<tr class="separator:af2e848c05789b959af9334ab36a00a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd81c6ef7ef382690a7d57b295ab676"><td class="memItemLeft" align="right" valign="top">Tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#acbd81c6ef7ef382690a7d57b295ab676">createTuple</a> (byte[] content)  throws Exception </td></tr>
<tr class="separator:acbd81c6ef7ef382690a7d57b295ab676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0351c69b469ce6de3481ce2415d1e4c4"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a0351c69b469ce6de3481ce2415d1e4c4">equals</a> (Object obj)</td></tr>
<tr class="separator:a0351c69b469ce6de3481ce2415d1e4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c2f4ec202e068629ce8e0d6fed41cb"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a21c2f4ec202e068629ce8e0d6fed41cb">equals</a> (<a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html">XMLLoader</a> other)</td></tr>
<tr class="separator:a21c2f4ec202e068629ce8e0d6fed41cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78451956dfb0092878495fdbd487bd77"><td class="memItemLeft" align="right" valign="top">InputFormat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a78451956dfb0092878495fdbd487bd77">getInputFormat</a> ()  throws IOException </td></tr>
<tr class="separator:a78451956dfb0092878495fdbd487bd77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70772198a293f43619124b774d0273de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a70772198a293f43619124b774d0273de">prepareToRead</a> (RecordReader reader, PigSplit split)  throws IOException </td></tr>
<tr class="separator:a70772198a293f43619124b774d0273de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6c25048fc829d849c7d40c72791b261"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#aa6c25048fc829d849c7d40c72791b261">setLocation</a> (String location, Job job)  throws IOException </td></tr>
<tr class="separator:aa6c25048fc829d849c7d40c72791b261"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8251978838e34be2d6224d0e5c266bf8"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a8251978838e34be2d6224d0e5c266bf8">recordIdentifier</a> = &quot;document&quot;</td></tr>
<tr class="separator:a8251978838e34be2d6224d0e5c266bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7d9f049d6c69909313a8046999c13fe4"><td class="memItemLeft" align="right" valign="top">final Log&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a7d9f049d6c69909313a8046999c13fe4">mLog</a> = LogFactory.getLog(getClass())</td></tr>
<tr class="separator:a7d9f049d6c69909313a8046999c13fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>GraphBuilder version of Piggy Bank's <a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html" title="GraphBuilder version of Piggy Bank&#39;s XMLLoader with improved memory management. ">XMLLoader</a> with improved memory management. </p>
<p>To improve the memory usage, GraphBuilder defines a <a class="el" href="">_ByteArrayOutputStream</a> class that extends <a class="el" href="">ByteArrayOutputStream</a> and instead of calling <a class="el" href="">ByteArrayOutputStream#toByteArray()</a> in the <code><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html" title="GraphBuilder version of Piggy Bank&#39;s XMLLoader with improved memory management. ">XMLLoader</a></code>, which creates a new byte array at each call, this updated version calls <a class="el" href="">_ByteArrayOutputStream#getByteArray()</a> and avoids the copy cost. This simple fix especially helps reducing the memory footprint for large XML documents.</p>
<p>The load function to load the XML file This implements the LoadFunc interface which is used to parse records from a dataset. The various helper adaptor function is extended from loader.Utf8StorageConverter which included various functions to cast raw byte data into various datatypes. other sections of the code can call back to the loader to do the cast. This takes a xmlTag as the arg which it will use to split the inputdataset into multiple records. <code></code></p>
<p><code>For example if the input xml (input.xml) is like this &lt;configuration&gt; &lt;property&gt; &lt;name&gt; foobar &lt;/name&gt; </code></p>
<p><code> barfoo </code></p>
<p><code> &lt;/property&gt; &lt;ignoreProperty&gt; &lt;name&gt; foo &lt;/name&gt; &lt;/ignoreProperty&gt; &lt;property&gt; &lt;name&gt; justname &lt;/name&gt; &lt;/property&gt; &lt;/configuration&gt;</code></p>
<p><code> And your pig script is like this</code></p>
<p><code> &ndash;load the jar files register /homes/aloks/pig/udfLib/loader.jar; &ndash; load the dataset using <a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html" title="GraphBuilder version of Piggy Bank&#39;s XMLLoader with improved memory management. ">XMLLoader</a> &ndash; A is the bag containing the tuple which contains one atom i.e doc see output A = load '/user/aloks/pig/input.xml using loader.XMLLoader('property') as (doc:chararray); &ndash;dump the result dump A;</code></p>
<p><code> Then you will get the output</code></p>
<p><code> (&lt;property&gt; &lt;name&gt; foobar &lt;/name&gt; </code></p>
<p><code> barfoo </code></p>
<p><code> &lt;/property&gt;) (&lt;property&gt; &lt;name&gt; justname &lt;/name&gt; &lt;/property&gt;)</code></p>
<p><code> Where each () indicate one record</code></p>
<p><code></code> </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1d6684a850d57689fe93e7ea5b40db78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">com.intel.pig.load.XMLLoader.XMLLoader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                       {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61ef88f90e3d4c8378eccd90e27a8b17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">com.intel.pig.load.XMLLoader.XMLLoader </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>recordIdentifier</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructs a Pig loader that uses specified string as the record seperater for example if the recordIdentifier is document. It will consider the record as &lt;document&gt; .* &lt;/document&gt;</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">recordIdentifier</td><td>the xml tag which is used to pull records </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                                              {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keyword">this</span>();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        this.recordIdentifier = <a class="code" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a8251978838e34be2d6224d0e5c266bf8">recordIdentifier</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="ttc" id="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader_html_a8251978838e34be2d6224d0e5c266bf8"><div class="ttname"><a href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a8251978838e34be2d6224d0e5c266bf8">com.intel.pig.load.XMLLoader.recordIdentifier</a></div><div class="ttdeci">String recordIdentifier</div><div class="ttdef"><b>Definition:</b> XMLLoader.java:549</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acbd81c6ef7ef382690a7d57b295ab676"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Tuple com.intel.pig.load.XMLLoader.createTuple </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>content</em></td><td>)</td>
          <td> throws Exception</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                                              {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">if</span> (mProtoTuple == null) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            mProtoTuple = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">if</span> (content.length &gt; 0) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            mProtoTuple.add(<span class="keyword">new</span> DataByteArray(content));</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        Tuple t = TupleFactory.getInstance().newTupleNoCopy(mProtoTuple);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        mProtoTuple = null;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0351c69b469ce6de3481ce2415d1e4c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.intel.pig.load.XMLLoader.equals </td>
          <td>(</td>
          <td class="paramtype">Object&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>to check for equality</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                                      {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a0351c69b469ce6de3481ce2415d1e4c4">equals</a>((<a class="code" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a1d6684a850d57689fe93e7ea5b40db78">XMLLoader</a>) obj);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="ttc" id="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader_html_a1d6684a850d57689fe93e7ea5b40db78"><div class="ttname"><a href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a1d6684a850d57689fe93e7ea5b40db78">com.intel.pig.load.XMLLoader.XMLLoader</a></div><div class="ttdeci">XMLLoader()</div><div class="ttdef"><b>Definition:</b> XMLLoader.java:553</div></div>
<div class="ttc" id="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader_html_a0351c69b469ce6de3481ce2415d1e4c4"><div class="ttname"><a href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a0351c69b469ce6de3481ce2415d1e4c4">com.intel.pig.load.XMLLoader.equals</a></div><div class="ttdeci">boolean equals(Object obj)</div><div class="ttdef"><b>Definition:</b> XMLLoader.java:624</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21c2f4ec202e068629ce8e0d6fed41cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.intel.pig.load.XMLLoader.equals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html">XMLLoader</a>&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>to check for equality</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>object </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                           {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">return</span> this.recordIdentifier.equals(other.recordIdentifier);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78451956dfb0092878495fdbd487bd77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">InputFormat com.intel.pig.load.XMLLoader.getInputFormat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                                                           {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        XMLFileInputFormat inputFormat = <span class="keyword">new</span> XMLFileInputFormat(</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                <a class="code" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a8251978838e34be2d6224d0e5c266bf8">recordIdentifier</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">if</span> (loadLocation.endsWith(<span class="stringliteral">&quot;.bz2&quot;</span>) || loadLocation.endsWith(<span class="stringliteral">&quot;.bz&quot;</span>)) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            inputFormat.isSplitable = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">return</span> inputFormat;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div>
<div class="ttc" id="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader_html_a8251978838e34be2d6224d0e5c266bf8"><div class="ttname"><a href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#a8251978838e34be2d6224d0e5c266bf8">com.intel.pig.load.XMLLoader.recordIdentifier</a></div><div class="ttdeci">String recordIdentifier</div><div class="ttdef"><b>Definition:</b> XMLLoader.java:549</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af2e848c05789b959af9334ab36a00a69"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Tuple com.intel.pig.load.XMLLoader.getNext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves the next tuple to be processed.</p>
<dl class="section return"><dt>Returns</dt><dd>the next tuple to be processed or null if there are no more tuples to be processed. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td></td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                              {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordtype">boolean</span> next = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            next = reader.nextKeyValue();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        } <span class="keywordflow">catch</span> (InterruptedException e) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IOException(e);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span> (!next)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">return</span> null;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        Tuple t = null;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            byte[] tagContent = (byte[]) reader.getCurrentValue();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="comment">// No need to create the tuple if there are no contents</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            t = (tagContent.length &gt; 0) ? <a class="code" href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#acbd81c6ef7ef382690a7d57b295ab676">createTuple</a>(tagContent) : null;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        } <span class="keywordflow">catch</span> (Exception e) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IOException(e);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="ttc" id="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader_html_acbd81c6ef7ef382690a7d57b295ab676"><div class="ttname"><a href="classcom_1_1intel_1_1pig_1_1load_1_1XMLLoader.html#acbd81c6ef7ef382690a7d57b295ab676">com.intel.pig.load.XMLLoader.createTuple</a></div><div class="ttdeci">Tuple createTuple(byte[] content)</div><div class="ttdef"><b>Definition:</b> XMLLoader.java:606</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a70772198a293f43619124b774d0273de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.intel.pig.load.XMLLoader.prepareToRead </td>
          <td>(</td>
          <td class="paramtype">RecordReader&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PigSplit&#160;</td>
          <td class="paramname"><em>split</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                               {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        this.reader = (XMLFileRecordReader) reader;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa6c25048fc829d849c7d40c72791b261"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.intel.pig.load.XMLLoader.setLocation </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Job&#160;</td>
          <td class="paramname"><em>job</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                                                                         {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        loadLocation = location;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        FileInputFormat.setInputPaths(job, location);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a7d9f049d6c69909313a8046999c13fe4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Log com.intel.pig.load.XMLLoader.mLog = LogFactory.getLog(getClass())</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>logger from pig </p>

</div>
</div>
<a class="anchor" id="a8251978838e34be2d6224d0e5c266bf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String com.intel.pig.load.XMLLoader.recordIdentifier = &quot;document&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The record seperated. The default value is 'document' </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/main/java/com/intel/pig/load/<a class="el" href="XMLLoader_8java.html">XMLLoader.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 20 2013 18:43:59 for GraphBuilder 2.0 (alpha) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
