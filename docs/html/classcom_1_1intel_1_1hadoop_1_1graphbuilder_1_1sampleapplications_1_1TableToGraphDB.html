<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>GraphBuilder 2.0 (alpha): com.intel.hadoop.graphbuilder.sampleapplications.TableToGraphDB Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GraphBuilder 2.0 (alpha)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li class="current"><a href="annotated.html"><span>Javadoc</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecom.html">com</a></li><li class="navelem"><a class="el" href="namespacecom_1_1intel.html">intel</a></li><li class="navelem"><a class="el" href="namespacecom_1_1intel_1_1hadoop.html">hadoop</a></li><li class="navelem"><a class="el" href="namespacecom_1_1intel_1_1hadoop_1_1graphbuilder.html">graphbuilder</a></li><li class="navelem"><a class="el" href="namespacecom_1_1intel_1_1hadoop_1_1graphbuilder_1_1sampleapplications.html">sampleapplications</a></li><li class="navelem"><a class="el" href="classcom_1_1intel_1_1hadoop_1_1graphbuilder_1_1sampleapplications_1_1TableToGraphDB.html">TableToGraphDB</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classcom_1_1intel_1_1hadoop_1_1graphbuilder_1_1sampleapplications_1_1TableToGraphDB-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.intel.hadoop.graphbuilder.sampleapplications.TableToGraphDB Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad9e5397a5ab4a9a14dc869b60d71df3f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1intel_1_1hadoop_1_1graphbuilder_1_1sampleapplications_1_1TableToGraphDB.html#ad9e5397a5ab4a9a14dc869b60d71df3f">main</a> (String[] args)</td></tr>
<tr class="separator:ad9e5397a5ab4a9a14dc869b60d71df3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generates a graph from rows of a big table, store in a graph database. </p>
<ul>
<li>
We support only Hbase for the big table. </li>
<li>
We support only Titan for the graph database. </li>
</ul>
<p>Path Arguments: </p>
<ul>
<li>
The <code>-t</code> option specifies the HBase table from which to read. </li>
<li>
The <code>-conf</code> option specifies configuration file. </li>
<li>
The <code>-a</code> option tells Titan it can append the newly generated graph to an existing one in the same table. The default behavior is to abort if you try to use an existing Titan table name. </li>
</ul>
<p>Specify the Titan table name in the configuration file in the property: <code>graphbuilder.titan.storage_tablename</code> </p>
<p>TO SPECIFY EDGES: Specify the edges with a sequence of "edge rules" following the <code>-e</code> flag (for undirected edges) or <code>-d</code> flag (for directed edges). The rules for edge construction are the same for both directed and undirected edges. The first three attributes in the edge rule are the source vertex column, the destination vertex column, and the string label.</p>
<p><code> -e src_col,dest_col&gt;,label,edge_property_col1,...edge_property_coln </code> </p>
<p><code> -d src_col,dest_col&gt;,label,edge_property_col1,...edge_property_coln </code></p>
<p>TO SPECIFY VERTICES: The first attribute in the string is the vertex ID column. Subsequent attributes denote vertex properties and are separated from the first by an equals sign:</p>
<p><code> -v vertex_id_column=vertex_prop1_column,... vertex_propn_column </code> </p>
<p>or in the case there are no properties associated with the vertex id: <code> vertex_id_column </code> </p>
<p>The <code>-F</code> option (for "flatten lists") specifies that when a cell containing a JSon list is read as a vertex ID, it is to be expanded into one vertex for each entry in the list. This applies to the source and destination columns for edges as well. It does not apply to properties. </p>
<p>Because the endpoints of an edge must be vertices, all endpoints of edges are declared to be vertices. (The declaration is implicit, but the vertices really end up in the graph database.) </p>
<p>EXAMPLES: </p>
<p><code>-conf /home/user/conf.xml -t my_hbase_table -v "cf:name=cf:age" -d "cf:name,cf:dept,worksAt,cf:seniority"</code> </p>
<p>This generates a vertex for each employee annotated by their age, a vertex for each department with at least one employee, and a directed edge labeled "worksAt" between each employee and their department, annotated by their seniority in that department. </p>
<p>TO SPECIFY KEYS FOR DATABASE INDICES: <code>-keys &lt;key rule 1&gt;,&lt;key rule 2&gt;, ... &lt;key rule="" n&gt;=""&gt;</code> where a key rule is a ; separated list beginning with a column name and including the following options: </p>
<ul>
<li>
<div class="fragment"><div class="line">String </div>
</div><!-- fragment --> selects the String datatype for the key's values &lt;default value&gt;=""&gt;. </li>
<li>
<div class="fragment"><div class="line">Float </div>
</div><!-- fragment --> selects the Float datatype for the key's values. </li>
<li>
<div class="fragment"><div class="line">Double </div>
</div><!-- fragment --> selects the Double datatype for the key's values. </li>
<li>
<div class="fragment"><div class="line">Integer </div>
</div><!-- fragment --> selects the Integer datatype for the key's values. </li>
<li>
<div class="fragment"><div class="line">Long </div>
</div><!-- fragment --> selects the Long datatype for the key's value. </li>
<li>
<div class="fragment"><div class="line">E </div>
</div><!-- fragment --> marks the key to be used as an edge index. </li>
<li>
<div class="fragment"><div class="line">V </div>
</div><!-- fragment --> marks the key to be used as a vertex index (edge and vertex indexing are not exclusive). </li>
<li>
<div class="fragment"><div class="line">U </div>
</div><!-- fragment --> marks the key as taking values unique to each vertex. </li>
<li>
<div class="fragment"><div class="line">NU </div>
</div><!-- fragment --> marks the key as taking values that are not necessarily unique to each vertex. </li>
</ul>
<p>EXAMPLE: <code>-keys cf:name;V;U,cf:tenure:E;V;Integer</code> </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad9e5397a5ab4a9a14dc869b60d71df3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void com.intel.hadoop.graphbuilder.sampleapplications.TableToGraphDB.main </td>
          <td>(</td>
          <td class="paramtype">String[]&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The main method for feature table to graph database construction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>Command line arguments. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                            {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        Timer timer = <span class="keyword">new</span> Timer();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        configFilePresent = (args[0].equals(<span class="stringliteral">&quot;-conf&quot;</span>));</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">if</span> (!configFilePresent) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            commandLineInterface.showError(<span class="stringliteral">&quot;When writing to Titan, the Titan config file must be specified by -conf &lt;config&gt; &quot;</span>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        CommandLine cmd = commandLineInterface.checkCli(args);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        GraphConstructionPipeline pipeline = <span class="keyword">new</span> GraphConstructionPipeline();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        commandLineInterface.getRuntimeConfig().addConfig(pipeline);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        String srcTableName = cmd.getOptionValue(BaseCLI.Options.hbaseTable.getLongOpt());</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        HBaseInputConfiguration  inputConfiguration  = <span class="keyword">new</span> HBaseInputConfiguration(srcTableName);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        HBaseGraphBuildingRule buildingRule = <span class="keyword">new</span> HBaseGraphBuildingRule(cmd);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        buildingRule.setFlattenLists(cmd.hasOption(BaseCLI.Options.flattenList.getLongOpt()));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        TitanOutputConfiguration outputConfiguration = <span class="keyword">new</span> TitanOutputConfiguration();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        LOG.info(<span class="stringliteral">&quot;============= Creating graph from feature table ==================&quot;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        timer.start();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        pipeline.run(inputConfiguration, buildingRule,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                GraphConstructionPipeline.BiDirectionalHandling.KEEP_BIDIRECTIONALEDGES,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                outputConfiguration, cmd);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        LOG.info(<span class="stringliteral">&quot;========== Done creating graph from feature table ================&quot;</span>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        LOG.info(<span class="stringliteral">&quot;Time elapsed : &quot;</span> + timer.current_time() + <span class="stringliteral">&quot; seconds&quot;</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>demoapps/com/intel/hadoop/graphbuilder/sampleapplications/<a class="el" href="TableToGraphDB_8java.html">TableToGraphDB.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 20 2013 18:43:59 for GraphBuilder 2.0 (alpha) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
